<!-- build time:Fri Aug 09 2024 23:12:42 GMT+0800 (香港标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="沨临" href="https://windlinxy.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="沨临" href="https://windlinxy.top/atom.xml"><link rel="alternate" type="application/json" title="沨临" href="https://windlinxy.top/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="后端,Redis,NoSQL"><link rel="canonical" href="https://windlinxy.top/2021/08/22/6cc698283cd3/"><title>Redis学习与基本使用 - 学习笔记 | Windlinxy's Blog = 沨临 = 记录回忆，分享经验，慢慢进步</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Redis学习与基本使用</h1><div class="meta"><span class="item" title="创建时间：2021-08-22 15:44:01"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-08-22T15:44:01+08:00">2021-08-22</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>7.6k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>7 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Windlinxy's Blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg18.jpg"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg26.jpg"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg11.jpg"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg16.jpg"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/20230803170527.png"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg10.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="item" rel="index" title="分类于 学习笔记"><span itemprop="name">学习笔记</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://windlinxy.top/2021/08/22/6cc698283cd3/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/windlinxy.jpg"><meta itemprop="name" content="Windlinxy"><meta itemprop="description" content="记录回忆，分享经验，慢慢进步, 后端 CS 技术博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="沨临"></span><div class="body md" itemprop="articleBody"><h1 id="redis"><a class="anchor" href="#redis">#</a> Redis</h1><blockquote><p>Redis 是一个开源（BSD 许可）的，内存中的<strong>数据结构存储系统</strong>，它可以用作数据库、缓存和消息中间件，它支持多种类型的数据结构，如 字符串（strings）， 散列（hashes）， 列表（lists）， 集合（sets）， 有序集合（sorted sets） 与范围查询， bitmaps， hyperloglogs 和 地理空间（geospatial） 索引半径查询。 Redis 内置了 复制（replication），LUA 脚本（Lua scripting）， LRU 驱动事件（LRU eviction），事务（transactions） 和不同级别的 磁盘持久化（persistence）， 并通过 Redis 哨兵（Sentinel）和自动 分区（Cluster）提供高可用性（high availability）。</p></blockquote><p><em>高并发、高性能、高可用</em></p><p><em>高可用 HA（High Availability）是分布式系统架构设计中必须考虑的因素之一，它通常是指，通过设计减少系统不能提供服务的时间。<br>假设系统一直能够提供服务，我们说系统的可用性是 100%。<br>如果系统每运行 100 个时间单位，会有 1 个时间单位无法提供服务，我们说系统的可用性是 99%。2018 年 9 月 7 日</em></p><p>Redis 与其他 key - value 缓存产品有以下三个特点：</p><ul><li>Redis 支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。</li><li>Redis 不仅仅支持简单的 key-value 类型的数据，同时还提供 list，set，zset，hash 等数据结构的存储。</li><li>Redis 支持数据的备份，即 master-slave 模式的数据备份。 Redis</li></ul><h2 id="redis-优势"><a class="anchor" href="#redis-优势">#</a> Redis 优势</h2><ul><li>性能极高 – Redis 能读的速度是 110000 次 /s, 写的速度是 81000 次 /s 。</li><li>丰富的数据类型 – Redis 支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。</li><li>原子 – Redis 的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。单个操作是原子性的。多个操作也支持事务，即原子性，通过 MULTI 和 EXEC 指令包起来。</li><li>丰富的特性 – Redis 还支持 publish/subscribe, 通知，key 过期等等特性。</li></ul><h2 id="下载与安装"><a class="anchor" href="#下载与安装">#</a> 下载与安装</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Rwb3JhZG93c2tpL3JlZGlzL3JlbGVhc2Vz">redis 稳定版的 github 下载</span></p><p><span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNzk1MDg5">redis 可视化工具</span></p><h2 id="非关系型数据库"><a class="anchor" href="#非关系型数据库">#</a> 非关系型数据库</h2><p><strong>非关系型，分布式，一般不保证遵循<mark> ACID 原则</mark>的数据存储系统，结构不稳定。</strong></p><h3 id="优点"><a class="anchor" href="#优点">#</a> 优点：</h3><ul><li>根据需要添加字段，不需要多表联查，仅需要 id 取出对应 value</li><li>适用于 SNS（社区化网络服务软件。比如 facebook，wb）</li><li>严格上讲不是一种数据库 ，而是一种数据结构化存储方法的集合</li></ul><h3 id="缺点"><a class="anchor" href="#缺点">#</a> 缺点</h3><ul><li>只适合存储一些较为简单的数据</li><li>不适合复杂查询的数据</li><li>不适合持久存储海量数据</li></ul><table><thead><tr><th></th><th><strong>区别</strong></th><th></th></tr></thead><tbody><tr><td><strong>内容</strong></td><td>关系型数据库</td><td>非关系型数据库</td></tr><tr><td>查询数据</td><td>存储硬盘中，速度慢</td><td>数据存缓存，速度快</td></tr><tr><td>存储格式</td><td>只支持基础类型</td><td>K-V，文档，图片</td></tr><tr><td>扩展性</td><td>有多表查询机制，扩展困难</td><td>数据之间没有耦合，容易扩展</td></tr><tr><td>持久性</td><td>适用于持久存储，海量存储</td><td>不适用持久存储，海量存储</td></tr><tr><td>数据一致性</td><td>事务能力强，强调数据的强一致性</td><td>事务能力弱，强调数据的最终一致性</td></tr><tr><td>成本</td><td>有些需要收费</td><td>基本都是开源</td></tr></tbody></table><h1 id="使用"><a class="anchor" href="#使用">#</a> 使用</h1><h2 id="查看"><a class="anchor" href="#查看">#</a> 查看</h2><p>直接在地址栏输入<strong> cmd</strong> 回车打开命令窗口，输入 <strong>redis-server redis.windows.conf</strong> 然后回车，显示如下信息说明启动成功。</p><p><img data-src="https://raw.githubusercontent.com/Windlinxy/Typora-img/main/img/1629432738813.png" alt="1629432738813"></p><h2 id="配置"><a class="anchor" href="#配置">#</a> 配置</h2><ul><li>bind</li><li>protected-mod</li></ul><h2 id="设置服务"><a class="anchor" href="#设置服务">#</a> 设置服务</h2><p>由于命令式窗口启动服务后如果关闭 cmd 命令式窗口服务就停止了，为了方便起见设置<strong> Redis</strong> 本地<strong> Windows</strong> 服务</p><p>安装 Windows 本地服务：</p><p><strong>redis-server --service-install redis.windows-service.conf</strong></p><p>常用 Redis 服务命令</p><p>（1）开启服务：redis-server --service-start</p><p>（2）停止服务：redis-server --service-stop</p><p>（3）卸载服务：redis-server --service-uninstall</p><h2 id="redis数据类型"><a class="anchor" href="#redis数据类型">#</a> redis 数据类型</h2><blockquote><p>Redis 支持五种数据类型：string（字符串），hash（哈希），list（列表），set（集合）及 zset (sorted set：有序集合)。</p></blockquote><h3 id="string字符串"><a class="anchor" href="#string字符串">#</a> String（字符串）</h3><ul><li>string 类型是二进制安全的。意思是 redis 的 string 可以包含任何数据。比如 jpg 图片或者序列化的对象。</li></ul><p><span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNjkyMzcx">二进制安全原理</span></p><p><em>C 字符串中的字符必须符合某种编码（比如 ASCII），并且除了字符串的末尾之外，字符串里面不能包含空字符，否则最先被程序读入的空字符将被误认为是字符串结尾，这些限制使得 C 字符串只能保存文本数据，而不能保存像图片、音频、视频、压缩文件这样的二进制数据。</em></p><ul><li>string 类型是 Redis 最基本的数据类型，&lt;span style=&quot;color:red&quot;&gt;string 类型的值最大能存储 512MB。 &lt;/span&gt;</li><li>使用<strong> set key value</strong> 存储字符串</li></ul><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; set game apex</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get game</span><br><span class="line">&quot;apex&quot;</span><br></pre></td></tr></table></figure><p></p><h3 id="hash哈希"><a class="anchor" href="#hash哈希">#</a> Hash（哈希）</h3><ul><li><p>Redis hash 是一个键值 (key=&gt;value) 对集合。</p></li><li><p>Redis hash 是一个 string 类型的 field 和 value 的映射表，hash 特别适合用于存储对象。</p></li><li><p><em>使用了 <strong>HMSET, HGET</strong> 命令，<strong>HMSET</strong> 设置了 field=&gt;value 对，HGET 获取对应 <strong>field</strong> 对应的 <strong>value</strong>。</em></p></li><li><p>每个 hash 可以存储 2^32-1 个键值对</p></li></ul><h3 id="list列表"><a class="anchor" href="#list列表">#</a> List（列表）</h3><ul><li>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。</li><li><em>列表最多可存储 2^32 - 1 元素 (4294967295, 每个列表可存储 40 多亿)。</em></li></ul><h3 id="set集合"><a class="anchor" href="#set集合">#</a> Set（集合）</h3><ul><li>Redis 的 Set 是 string 类型的无序集合。</li><li>集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是 O (1)。</li><li><em>sadd set string 命令添加一个 string 元素到 key 对应的 set 集合中，成功返回 1，如果元素已经在集合中返回 0。</em></li><li><em>sunion sismember</em></li><li><em>smembers set 命令获得 set 集合中的元素</em></li></ul><h3 id="zset有序集合"><a class="anchor" href="#zset有序集合">#</a> zset (有序集合)</h3><ul><li><p>Redis zset 和 set 一样也是 string 类型元素的集合，<strong> 且不允许重复的成员</strong>。</p></li><li><p>不同的是每个元素都会关联一个 double 类型的分数。redis 正是通过分数来为集合中的成员进行从小到大的排序。</p></li><li><p>zset 的成员是唯一的，但分数 (score) 却可以重复。</p></li><li><p><em>zadd 命令添加元素到集合，元素在集合中存在则更新对应 score</em></p></li></ul><p><img data-src="https://raw.githubusercontent.com/Windlinxy/Typora-img/main/img/1629603987925.png" alt="1629603987925"></p><h1 id="redis命令"><a class="anchor" href="#redis命令">#</a> redis 命令</h1><p>&lt;1&gt; 设置键值对 --------- <strong>set key value</strong></p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; set redis learn</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get redis</span><br><span class="line">&quot;learn&quot;</span><br></pre></td></tr></table></figure><p></p><p><code>redis</code> 是 key， <code>learn</code> 是 value</p><p>&lt;2&gt; 删除 key ---------<strong>del key</strong></p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; del redis</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; get redis</span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure><p></p><p>&lt;3&gt; 判断 key 是否存在 ---------<strong>exists key</strong></p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; exists name</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; exists redis</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure><p></p><p>返回 1 则存在，0 不存在</p><p>&lt;4&gt; 设置 key 过期时间 ---------expire key seconds**</p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; expire name 10</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; exists name</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure><p></p><p>过期的 key 自动删除</p><p>&lt;5&gt; 设置 key 过期特定时间（时间戳）-------expireat key timestamp**</p><p>&lt;6&gt; 查找所有符合给定模式 ( pattern) 的 key ------<strong>keys pattern</strong></p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) &quot;game&quot;</span><br><span class="line">127.0.0.1:6379&gt; keys g*</span><br><span class="line">1) &quot;game&quot;</span><br></pre></td></tr></table></figure><p></p><p>​ * ？</p><p>&lt;7&gt; 移动数据库中的 key -------<strong>move key db</strong></p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">move game 1</span><br></pre></td></tr></table></figure><p></p><p>&lt;span style=&quot;color:red&quot;&gt;redis 默认使用数据库 0&lt;/span&gt;</p><p>&lt;8&gt; 移除 key 的过期时间，key 将持久保持 ---------<strong>persist key</strong></p><p>&lt;9&gt; 以毫秒为单位返回 key 的剩余的过期时间 ----------<strong>pttl key</strong></p><p>&lt;10&gt; 以秒为单位，返回给定 key 的剩余生存时间 (TTL, time to live)----------<strong>ttl key</strong></p><p>&lt;11&gt; 修改 key 的名称 ---------<strong>rename key newkey</strong></p><p>&lt;12&gt; 从当前数据库随机返回一个 key------<strong>randomkey</strong></p><p>&lt;13&gt; 仅当 newkey 不存在时，将 key 改名为 newkey ---<strong>renamenx key newkey</strong></p><p>&lt;14&gt; 返回 key 所存储的值的类型 -------<strong>type key</strong></p><p>&lt;15&gt;</p><h2 id="redis连接"><a class="anchor" href="#redis连接">#</a> redis 连接</h2><p>初始 redis 没有设置密码，Redis 中的连接命令基本上是用于管理与 Redis 服务器的客户端连接。</p><p>客户端如何向 Redis 服务器验证自身，并检查服务器是否正在运行。</p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; AUTH &quot;password&quot; </span><br><span class="line">OK </span><br><span class="line">redis 127.0.0.1:6379&gt; PING </span><br><span class="line">PONG</span><br></pre></td></tr></table></figure><p></p><table><thead><tr><th style="text-align:center">命令</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">auth password</td><td style="text-align:center">使用给定密码验证服务器</td></tr><tr><td style="text-align:center">echo message</td><td style="text-align:center">打印给定的字符串信息</td></tr><tr><td style="text-align:center">ping</td><td style="text-align:center">检查服务器是否运行正常</td></tr><tr><td style="text-align:center">quit</td><td style="text-align:center">关闭当前连接</td></tr><tr><td style="text-align:center">select index</td><td style="text-align:center">更改当前连接的所选数据库</td></tr></tbody></table><h2 id="redis备份"><a class="anchor" href="#redis备份">#</a> redis 备份</h2><h3 id="语法"><a class="anchor" href="#语法">#</a> 语法</h3><p>redis Save 命令基本语法如下：</p><p></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; SAVE </span><br></pre></td></tr></table></figure><p></p><p>该命令将在 redis 安装目录中创建 dump.rdb 文件。</p><h2 id="redis管道"><a class="anchor" href="#redis管道">#</a> redis 管道</h2><p>Redis 是一个 TCP 服务器，支持请求 / 响应协议。 在 Redis 中，请求通过以下步骤完成：</p><ul><li>客户端向服务器发送查询，并从套接字读取，通常以阻塞的方式，用于服务器响应。</li><li>服务器处理命令并将响应发送回客户端。</li></ul><p><strong>管道：</strong></p><p>管道的基本含义是，客户端可以向服务器发送多个请求，而不必等待回复，并最终在一个步骤中读取回复。</p><p>优势：通过管道从连接到本地主机速度增加五倍，因特网连接的至少快一百倍。</p><h1 id="redis持久化"><a class="anchor" href="#redis持久化">#</a> <mark>redis 持久化</mark></h1><blockquote><p>redis 提供了两种持久化的方式，分别是 RDB（Redis DataBase）和 AOF（Append Only File）。</p></blockquote><p>RDB，简而言之，就是在不同的时间点，将 redis 存储的数据生成快照并存储到磁盘等介质上；</p><p>AOF，则是换了一个角度来实现持久化，那就是将 redis 执行过的所有写指令记录下来，在下次 redis 重新启动时，只要把这些写指令从前到后再重复执行一遍，就可以实现数据恢复了。</p><h3 id="rdb"><a class="anchor" href="#rdb">#</a> RDB</h3><p>redis 在进行数据持久化的过程中，会先将数据写入到一个临时文件中，待持久化过程都结束了，才会用这个临时文件替换上次持久化好的文件。正是这种特性，让我们可以随时来进行备份，因为快照文件总是完整可用的。</p><p>对于 RDB 方式，redis 会单独创建（fork）一个子进程来进行持久化，而主进程是不会进行任何 IO 操作的，这样就确保了 redis 极高的性能。</p><p><strong>如果需要进行大规模数据的恢复，且对于数据恢复的完整性不是非常敏感，那 RDB 方式要比 AOF 方式更加的高效。</strong></p><h3 id="aof"><a class="anchor" href="#aof">#</a> AOF</h3><p>我们通过配置 redis.conf 中的 appendonly yes 就可以打开 AOF 功能。如果有写操作（如 SET 等），redis 就会被追加到 AOF 文件的末尾。</p><p>默认的 AOF 持久化策略是每秒钟 fsync 一次（fsync 是指把缓存中的写指令记录到磁盘中），因为在这种情况下，redis 仍然可以保持很好的处理性能，即使 redis 故障，也只会丢失最近 1 秒钟的数据。</p><p>如果在追加日志时，恰好遇到磁盘空间满、inode 满或断电等情况导致日志写入不完整，也没有关系，redis 提供了 redis-check-aof 工具，可以用来进行日志修复。</p><p>因为采用了追加方式，如果不做任何处理的话，AOF 文件会变得越来越大，为此，redis 提供了 AOF 文件重写（rewrite）机制，即当 AOF 文件的大小超过所设定的阈值时，redis 就会启动 AOF 文件的内容压缩，只保留可以恢复数据的最小指令集。举个例子或许更形象，假如我们调用了 100 次 INCR 指令，在 AOF 文件中就要存储 100 条指令，但这明显是很低效的，完全可以把这 100 条指令合并成一条 SET 指令，这就是重写机制的原理。</p><p>在进行 AOF 重写时，仍然是采用先写临时文件，全部完成后再替换的流程，所以断电、磁盘满等问题都不会影响 AOF 文件的可用性。</p><p>AOF 方式的另一个好处，我们通过一个 “场景再现” 来说明。某同学在操作 redis 时，不小心执行了 FLUSHALL，导致 redis 内存中的数据全部被清空了，这是很悲剧的事情。只要 redis 配置了 AOF 持久化方式，且 AOF 文件还没有被重写（rewrite），我们就可以用最快的速度暂停 redis 并编辑 AOF 文件，将最后一行的 FLUSHALL 命令删除，然后重启 redis，就可以恢复 redis 的所有数据到 FLUSHALL 之前的状态了。但是如果 AOF 文件已经被重写了，那就无法通过这种方法来恢复数据了。</p><p>虽然优点多多，但 AOF 方式也同样存在缺陷，比如在同样数据规模的情况下，AOF 文件要比 RDB 文件的体积大。而且，AOF 方式的恢复速度也要慢于 RDB 方式。</p><p>如果你直接执行 BGREWRITEAOF 命令，那么 redis 会生成一个全新的 AOF 文件，其中便包括了可以恢复现有数据的最少的命令集。</p><p>如果运气比较差，AOF 文件出现了被写坏的情况，也不必过分担忧，redis 并不会贸然加载这个有问题的 AOF 文件，而是报错退出。这时可以通过以下步骤来修复出错的文件：</p><p>1. 备份被写坏的 AOF 文件<br>2. 运行 redis-check-aof –fix 进行修复<br>3. 用 diff -u 来看下两个文件的差异，确认问题点<br>4. 重启 redis，加载修复后的 AOF 文件</p><h1 id="redis发布订阅"><a class="anchor" href="#redis发布订阅">#</a> redis 发布订阅</h1><p><img data-src="https://raw.githubusercontent.com/Windlinxy/Typora-img/main/img/1629772278161.png" alt="1629772278161"></p><h1 id="redis事务"><a class="anchor" href="#redis事务">#</a> redis 事务</h1><p>Redis 事务允许在单个步骤中执行一组命令。以下是事务的两个属性：</p><ul><li>事务中的所有命令作为单个隔离操作并按顺序执行。不可以在执行 Redis 事务的中间向另一个客户端发出的请求。</li><li>Redis 事务也是原子的。原子意味着要么处理所有命令，要么都不处理。</li></ul><p><img data-src="https://raw.githubusercontent.com/Windlinxy/Typora-img/main/img/1629772410535.png" alt="1629772410535"></p><h1 id="java连接redis"><a class="anchor" href="#java连接redis">#</a> java 连接 Redis</h1><p><span class="exturl" data-url="aHR0cHM6Ly93d3cubWtsYWIuY24vb25saW5lYXBpL2plZGlzLw==">jedis API</span></p><p>在 Java 程序中使用 Redis 之前，需要确保在机器上安装了 Redis 的 Java 驱动程序和 Java 环境。可以先在将 Java 电脑上并配置好环境。</p><p>在 pom.xml 添加依赖</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-pool2 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/redis.clients/jedis --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>之后可以使用测试类：</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisJavaTest</span> &#123; </span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">redisTest</span><span class="params">()</span> &#123; </span><br><span class="line">      <span class="comment">//Connecting to Redis server on localhost </span></span><br><span class="line">      <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;localhost&quot;</span>); </span><br><span class="line">      System.out.println(<span class="string">&quot;Connection to server sucessfully&quot;</span>); </span><br><span class="line">      <span class="comment">//check whether server is running or not </span></span><br><span class="line">      System.out.println(<span class="string">&quot;Server is running: &quot;</span>+jedis.ping()); </span><br><span class="line">   &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.获得连接对象</span></span><br><span class="line">        <span class="comment">//如果你的Redis客户端没有设置访问密码的话，可以直接使用下面的构造方法，如果设置了密码，则使用JedisShardInfo 对象来设置访问配置</span></span><br><span class="line">		<span class="comment">//Jedis jedis = new Jedis(&quot;192.168.0.1&quot;, 6379);</span></span><br><span class="line">        <span class="type">JedisShardInfo</span> <span class="variable">shardInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisShardInfo</span>(<span class="string">&quot;redis://127.0.0.1:6379&quot;</span>);<span class="comment">//这里是连接的本地地址和端口</span></span><br><span class="line">        shardInfo.setPassword(<span class="string">&quot;password&quot;</span>);<span class="comment">//这里是密码</span></span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(shardInfo);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获得数据</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.存储数据</span></span><br><span class="line">        jedis.set(<span class="string">&quot;addr&quot;</span>, <span class="string">&quot;南京&quot;</span>) ;</span><br><span class="line"></span><br><span class="line">        System.out.println(jedis.get(<span class="string">&quot;addr&quot;</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p></p><div class="tags"><a href="/tags/%E5%90%8E%E7%AB%AF/" rel="tag"><i class="ic i-tag"></i> 后端</a> <a href="/tags/Redis/" rel="tag"><i class="ic i-tag"></i> Redis</a> <a href="/tags/NoSQL/" rel="tag"><i class="ic i-tag"></i> NoSQL</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-03-06 15:09:03" itemprop="dateModified" datetime="2023-03-06T15:09:03+08:00">2023-03-06</time> </span><span id="2021/08/22/6cc698283cd3/" class="item leancloud_visitors" data-flag-title="Redis学习与基本使用" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span> </span><span id="busuanzi_container_page_pv">本文阅读量:<span id="busuanzi_value_page_pv"></span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Windlinxy 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Windlinxy 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Windlinxy <i class="ic i-at"><em>@</em></i>沨临</li><li class="link"><strong>本文链接：</strong> <a href="https://windlinxy.top/2021/08/22/6cc698283cd3/" title="Redis学习与基本使用">https://windlinxy.top/2021/08/22/6cc698283cd3/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"></div><div class="item right"><a href="/2021/08/22/9fa2c19d8a5c/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com&#x2F;img&#x2F;20230803170225.png" title="Git学习"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 学习笔记</span><h3>Git学习</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#redis"><span class="toc-number">1.</span> <span class="toc-text">Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#redis-%E4%BC%98%E5%8A%BF"><span class="toc-number">1.1.</span> <span class="toc-text">Redis 优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.</span> <span class="toc-text">下载与安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.3.</span> <span class="toc-text">非关系型数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-number">1.3.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-number">1.3.2.</span> <span class="toc-text">缺点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B"><span class="toc-number">2.1.</span> <span class="toc-text">查看</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">2.2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.3.</span> <span class="toc-text">设置服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.4.</span> <span class="toc-text">redis 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#string%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.4.1.</span> <span class="toc-text">String（字符串）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hash%E5%93%88%E5%B8%8C"><span class="toc-number">2.4.2.</span> <span class="toc-text">Hash（哈希）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#list%E5%88%97%E8%A1%A8"><span class="toc-number">2.4.3.</span> <span class="toc-text">List（列表）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set%E9%9B%86%E5%90%88"><span class="toc-number">2.4.4.</span> <span class="toc-text">Set（集合）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zset%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88"><span class="toc-number">2.4.5.</span> <span class="toc-text">zset (有序集合)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#redis%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">redis 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#redis%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.1.</span> <span class="toc-text">redis 连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redis%E5%A4%87%E4%BB%BD"><span class="toc-number">3.2.</span> <span class="toc-text">redis 备份</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">3.2.1.</span> <span class="toc-text">语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redis%E7%AE%A1%E9%81%93"><span class="toc-number">3.3.</span> <span class="toc-text">redis 管道</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#redis%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-number">4.</span> <span class="toc-text">redis 持久化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rdb"><span class="toc-number">4.0.1.</span> <span class="toc-text">RDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#aof"><span class="toc-number">4.0.2.</span> <span class="toc-text">AOF</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#redis%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85"><span class="toc-number">5.</span> <span class="toc-text">redis 发布订阅</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#redis%E4%BA%8B%E5%8A%A1"><span class="toc-number">6.</span> <span class="toc-text">redis 事务</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#java%E8%BF%9E%E6%8E%A5redis"><span class="toc-number">7.</span> <span class="toc-text">java 连接 Redis</span></a></li></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/08/22/9fa2c19d8a5c/" rel="bookmark" title="Git学习">Git学习</a></li><li class="active"><a href="/2021/08/22/6cc698283cd3/" rel="bookmark" title="Redis学习与基本使用">Redis学习与基本使用</a></li><li><a href="/2022/02/16/3f45b94abd7d/" rel="bookmark" title="SpringBoot学习">SpringBoot学习</a></li><li><a href="/2022/03/22/b53d308f67cd/" rel="bookmark" title="Docker学习与实践">Docker学习与实践</a></li><li><a href="/2022/03/29/a3ce6e1055e0/" rel="bookmark" title="Hexo搭建博客回顾">Hexo搭建博客回顾</a></li><li><a href="/2022/04/03/efd1fe65915b/" rel="bookmark" title="Nginx学习">Nginx学习</a></li><li><a href="/2022/04/18/fa3fe09e66a1/" rel="bookmark" title="Lambda表达式学习">Lambda表达式学习</a></li><li><a href="/2022/04/19/b3855c64b8fb/" rel="bookmark" title="Optional使用">Optional使用</a></li><li><a href="/2022/04/20/be5fe109faf5/" rel="bookmark" title="函数式接口与方法引用">函数式接口与方法引用</a></li><li><a href="/2022/06/27/4318463f9256/" rel="bookmark" title="RabbitMQ学习_01">RabbitMQ学习_01</a></li><li><a href="/2022/06/30/712cede46373/" rel="bookmark" title="RabbitMQ学习_02">RabbitMQ学习_02</a></li><li><a href="/2022/10/04/8787e59dc4ea/" rel="bookmark" title="JUC:线程与进程">JUC:线程与进程</a></li><li><a href="/2022/11/16/32e7bb3553da/" rel="bookmark" title="IO模型">IO模型</a></li><li><a href="/2022/11/17/b73eedab4ef3/" rel="bookmark" title="NIO的一些问题">NIO的一些问题</a></li><li><a href="/2023/01/21/6c40bdfa1892/" rel="bookmark" title="java注解">java注解</a></li><li><a href="/2023/02/28/48a59f7d755c/" rel="bookmark" title="Springboot自动装配">Springboot自动装配</a></li><li><a href="/2023/03/01/fa472e2adb8b/" rel="bookmark" title="一些模板代码">一些模板代码</a></li><li><a href="/2023/08/17/625794741ec0/" rel="bookmark" title="Git常用">Git常用</a></li><li><a href="/2023/09/12/324da08a924e/" rel="bookmark" title="ADB总结">ADB总结</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Windlinxy" data-src="/images/windlinxy.jpg"><p class="name" itemprop="name">Windlinxy</p><div class="description" itemprop="description">后端 CS 技术博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">31</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">5</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">33</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3dpbmRsaW54eQ==" title="https:&#x2F;&#x2F;github.com&#x2F;windlinxy"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9mZW5nLWxpbi0yMy00NQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;feng-lin-23-45"><i class="ic i-zhihu"></i></span> <span class="exturl item email" data-url="bWFpbHRvOndpbmRsaW54eUAxNjMuY29t" title="mailto:windlinxy@163.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>网址</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2023/08/17/625794741ec0/" title="Git常用">Git常用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2023/01/21/6c40bdfa1892/" title="java注解">java注解</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/LeetCode%E5%88%B7%E9%A2%98/" title="分类于 LeetCode刷题">LeetCode刷题</a></div><span><a href="/2023/03/22/82bee2525fb1/" title="缺失的第一个正数-LeetCode刷题">缺失的第一个正数-LeetCode刷题</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/06/27/4318463f9256/" title="RabbitMQ学习_01">RabbitMQ学习_01</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/06/30/712cede46373/" title="RabbitMQ学习_02">RabbitMQ学习_02</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/LeetCode%E5%88%B7%E9%A2%98/" title="分类于 LeetCode刷题">LeetCode刷题</a></div><span><a href="/2023/03/05/cfe6cb0e3385/" title="LeetCode刷题-LRU">LeetCode刷题-LRU</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/04/18/fa3fe09e66a1/" title="Lambda表达式学习">Lambda表达式学习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9D%82%E8%B0%88/" title="分类于 杂谈">杂谈</a></div><span><a href="/2021/08/29/11735809e10f/" title="免费好用的Redis可视化工具-Another Redis Desktop Manager">免费好用的Redis可视化工具-Another Redis Desktop Manager</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/08/22/6cc698283cd3/" title="Redis学习与基本使用">Redis学习与基本使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/04/03/efd1fe65915b/" title="Nginx学习">Nginx学习</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Windlinxy @ Windlinxy's Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">173k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:38</span><br><i class="ic i-clock" aria-hidden="true"></i> <span id="time"></span><script>function createtime(){var n=new Date("2022-3-27 14:30:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("time").innerHTML="存活时间:"+dnum+" 天 "+hnum+" 小时 "+mnum+" 分 "+snum+" 秒 |"}var now=new Date;setInterval("createtime()",250)</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span style="padding-left:10px"><i class="ic i-eye" aria-hidden="true"></i><span id="busuanzi_value_site_pv"></span>(<span id="busuanzi_value_site_uv"></span>) 次 |</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/08/22/6cc698283cd3/",favicon:{show:"（●´3｀●）最喜欢你了",hide:"(´Д｀)你要去哪！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdnjs.cloudflare.com/polyfill/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->