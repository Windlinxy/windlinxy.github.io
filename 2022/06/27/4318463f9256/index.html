<!-- build time:Fri Aug 09 2024 00:08:11 GMT+0800 (香港标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="沨临" href="https://windlinxy.top/rss.xml"><link rel="alternate" type="application/atom+xml" title="沨临" href="https://windlinxy.top/atom.xml"><link rel="alternate" type="application/json" title="沨临" href="https://windlinxy.top/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="后端,消息队列"><link rel="canonical" href="https://windlinxy.top/2022/06/27/4318463f9256/"><title>RabbitMQ学习_01 - 学习笔记 | Windlinxy's Blog = 沨临 = 记录回忆，分享经验，慢慢进步</title><meta name="generator" content="Hexo 5.4.1"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">RabbitMQ学习_01</h1><div class="meta"><span class="item" title="创建时间：2022-06-27 17:19:23"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-06-27T17:19:23+08:00">2022-06-27</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>3.3k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>3 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Windlinxy's Blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg16.jpg"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg18.jpg"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg25.jpg"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg22.jpg"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/20230803165920.png"></li><li class="item" data-background-image="https://virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com/img/yst-blog-bg12.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="item" rel="index" title="分类于 学习笔记"><span itemprop="name">学习笔记</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://windlinxy.top/2022/06/27/4318463f9256/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/windlinxy.jpg"><meta itemprop="name" content="Windlinxy"><meta itemprop="description" content="记录回忆，分享经验，慢慢进步, 后端 CS 技术博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="沨临"></span><div class="body md" itemprop="articleBody"><h1 id="相关概念"><a class="anchor" href="#相关概念">#</a> 相关概念</h1><h2 id="什么是mq"><a class="anchor" href="#什么是mq">#</a> 什么是 MQ</h2><p>message queue 消息的队列，本质上是队列，FIFO 先进先出，队列存放的内容是消息，还是一种跨进程的通信机制，用于上下游传递消息（比喻：QQ 上 A 发消息给 B，A 是上游，B 是下游），逻辑解耦和物理解耦，使用了 MQ 之后，消息发送上游只依赖 MQ，不需要依赖其他服务。</p><h2 id="为什么要用mqmq三大特点"><a class="anchor" href="#为什么要用mqmq三大特点">#</a> 为什么要用 MQ？MQ 三大特点</h2><h3 id="流量消峰"><a class="anchor" href="#流量消峰">#</a> 流量消峰</h3><p>举例子：订单系统最多能处理一万次订单，这个处理能力应付正常时段的下单绰绰有余，正常我们下单一秒就能返回结果，但是在高峰期，如果两万次下单操作系统是处理不了的，只能限制订单超出一万次后不允许用户下单。而使用功能消息队列做缓冲，我们可以取消这个限制，把一秒内下的订单分散成一段时间来处理，这是有些用户可能在下单十几秒后才收到下单成功的操作，但是比不能下单的体验要好。</p><h3 id="应用解耦"><a class="anchor" href="#应用解耦">#</a> 应用解耦</h3><p>举例子：以电商应用为例，应用中有订单系统、库存系统、物流系统、支付系统、用户创建订单后，如果耦合调用库存系统，物流系统，支付系统，任何一个子系统出了故障，都会造成下单操作异常。当转变成基于消息队列的方式后，系统间调用的问题会少很多，比如物流系统发生了故障，需要几分钟来修复，在这几分钟的时间里，物流系统要处理的内存被缓存在消息队列里，用户下单操作可以正常完成。当物流系统恢复后，急需处理订单即可，用户感受不到物流系统的故障，提升系统的可用性。</p><p><img data-src="https://raw.githubusercontent.com/Windlinxy/Typora-img/main/img/image-20220627152327281.png" alt="image-20220627152327281"></p><h3 id="异步处理"><a class="anchor" href="#异步处理">#</a> 异步处理</h3><p>A 要调用 B，并且要时不时发消息询问 B 是否处理完毕。使用消息队列，A 调用 B 之后 A 干自己的事情，B 处理完成后发送处理完毕消息给消息队列，消息队列将消息发送给 A</p><h2 id="mq的分类"><a class="anchor" href="#mq的分类">#</a> MQ 的分类</h2><h3 id="activemq"><a class="anchor" href="#activemq">#</a> ActiveMQ</h3><ul><li>优点：单机吞吐量万级，时效性 ms 级，可用性高，基于主从架构实现高可用性，消息可靠性：较低概率丢失数据</li><li>缺点：官方社区维护越来越少，高吞吐量使用场景少</li></ul><h3 id="kafka"><a class="anchor" href="#kafka">#</a> Kafka</h3><p>大数据杀手锏，谈到大数据领域内的消息传输，绕不开 Kafka，为大数据而生的消息中间件，百万级 TPS（服务器每秒处理事物数）吞吐量，在数据采集、传输、存储过程中发挥举足轻重的作用，目前已被 LinkedIn，Uber，Twitter，Netflix 等大公司所采纳</p><ul><li>优点：性能卓越，单机写入 TPS 约百万条 / 秒，吞吐量高，时效性 ms 级可用性非常高，kafka 是分布式的，一个数据多个副本，少数机器宕机不会丢失数据，不会导致不可用，消费者采用 pull 方式获取消息，消息有序，通过控制能够保证所有的消息被消费且仅被消费一次；有优秀的第三方 kafkaWeb 的管理界面 Kafka-Manager；在日志领域比较成熟，被多家公司和多个开源项目使用，功能支持较为简单，主要支持简单的 MQ 功能，在大数据领域的实时计算以及日志采集被大规模使用。</li><li>缺点：Kafka 单机超过 64 个队列 / 分区，Load 会发生明显的飙高现象，队列越多，load 越高，发送消息响应时间变长，使用短轮询方式，实时性取决于轮询间隔时间，消费失败不支持重试；支持消息顺序，但是有一台代理宕机后，会产生消息乱序，社区更新较慢</li></ul><h3 id="rocketmq"><a class="anchor" href="#rocketmq">#</a> RocketMQ</h3><p>出自阿里巴巴开源产品，用 Java 语言实现，在设计时参考了 kafka，并做出了一些改进，被阿里巴巴广泛应用在订单、交易、充值、流计算、消息推送、日志流氏处理、binglog 分发等场景</p><ul><li>优点： 单机吞吐量十万级，可用性非常高，分布式架构，消息可以做到 0 丢失，MQ 功能较为完善，还是分布式的，扩展性好，支持 10 亿级别的消息堆积，不会因为堆积导致性能下降，源码是 Java 我们可以自己阅读源码，定制自己公司的 MQ</li><li>缺点：支持的客户端语言不多，目前是 java 以及 C++，C++ 不成熟，社区活跃度一般，没有在 MQ 核心中区实现 JMS 等接口，有些系统要迁移需要修改大量代码</li></ul><h3 id="rabbitmq"><a class="anchor" href="#rabbitmq">#</a> RabbitMQ</h3><p>2007 年发布，是一个在 AMQP（高级消息队列协议）基础上完成的，可复用的企业消息系统，是当前最主流的中间件之一。</p><ul><li>优点：由于 erlang 语言的高并发特点，性能较好；吞吐量到万级，MQ 功能比较完备，健壮、稳定、易用、跨平台，支持多种语言：Python、Ruby、.NET、Java、JMS、C、PHP 等，支持 AJAX，文档齐全；开源提供的管理界面非常棒，用起来很好用，社区活跃度高，更新频率相当高</li><li>缺点：商业版收费，学习成本高。</li></ul><h2 id="mq的选择"><a class="anchor" href="#mq的选择">#</a> MQ 的选择</h2><h3 id="kafka-2"><a class="anchor" href="#kafka-2">#</a> Kafka</h3><p>Kafka 适合产生大量数据的互联网服务的数据收集业务，大型公司，如果有日志采集，首选 Kafka</p><h3 id="rocketmq-2"><a class="anchor" href="#rocketmq-2">#</a> RocketMQ</h3><p>适合金融互联网领域，对于可靠性要求很高的场景，业务上有并发的场景，建议可以选择</p><h3 id="rabbitmq-2"><a class="anchor" href="#rabbitmq-2">#</a> RabbitMQ</h3><p>结合 erlang 语言本身的开发优势， 性能好时效性微妙级，社区活跃度，管理界面方便，数据量没那么大，中小型公司</p><h1 id="rabbitmq-3"><a class="anchor" href="#rabbitmq-3">#</a> RabbitMQ</h1><h2 id="rabbit概念"><a class="anchor" href="#rabbit概念">#</a> Rabbit 概念</h2><p>RabbitMQ 是一个消息中间件；它接受并转发消息，接受、存储和转发消息</p><h2 id="rabbit核心概念"><a class="anchor" href="#rabbit核心概念">#</a> Rabbit 核心概念</h2><p><img data-src="https://raw.githubusercontent.com/Windlinxy/Typora-img/main/img/image-20220627161810815.png" alt="image-20220627161810815"></p><h3 id="1-生产者"><a class="anchor" href="#1-生产者">#</a> 1. 生产者</h3><blockquote><p>产生数据发送消息的生产者</p></blockquote><h3 id="2-交换机"><a class="anchor" href="#2-交换机">#</a> 2. 交换机</h3><blockquote><p>交换机是 RabbitMQ 非常重要的一个部件，一方面它接受来自生产者的消息，另一方面它将消息推送到队列中，交换机必须确切知道如何处理它接受到的消息，是将这些消息推送到特定的队列还是推送到多个队列，亦或者是把消息丢弃，这个得有交换机类型决定</p></blockquote><h3 id="3-队列"><a class="anchor" href="#3-队列">#</a> 3. 队列</h3><blockquote><p>队列是 RabbitMQ 内部使用的一个数据结构，尽管消息流经 RabbitMQ 和应用程序，但它们只能存储在队列中。队列仅受主机的内存和磁盘限制的约束，本质上是一个大的消息缓冲区，许多生产者可以将消息发送到一个队列，许多消费者可以尝试从一个队列接收数据，这就是我们使用队列的方式</p><p>交换机和队列可以一对多绑定</p></blockquote><h3 id="4-消费者"><a class="anchor" href="#4-消费者">#</a> 4. 消费者</h3><blockquote><p>消费与接收具有相似的含义。消费者大多时候是一个等待接受消息的程序。请注意生产者，消费者和消息中间件很多时候并不在同意机器上。同一个应用程序既可以是生产者又可以是消费者</p></blockquote><h2 id="rabbit核心部分模式"><a class="anchor" href="#rabbit核心部分模式">#</a> Rabbit 核心部分（模式）</h2><ul><li><p>&quot;Holle World&quot; 简单模式</p></li><li><p>Work queues 工作模式</p></li><li><p>Publish/Subscribe 发布 / 订阅模式</p></li><li><p>Routing 路由模式</p></li><li><p>Topics 主题模式</p></li><li><p>Publisher Confirms 发布确认模式</p></li></ul><h2 id="各个名词解释"><a class="anchor" href="#各个名词解释">#</a> 各个名词解释</h2><h3 id="rabbit工作原理"><a class="anchor" href="#rabbit工作原理">#</a> Rabbit 工作原理</h3><p><img data-src="https://raw.githubusercontent.com/Windlinxy/Typora-img/main/img/image-20220627162630662.png" alt="image-20220627162630662"></p><p><mark>Broke</mark>: 接收和分发消息的应用，RabbitMQ Server 就是 Message Broker，实质</p><p><mark>Virtual host</mark>：出于多租户和安全因素设计的，把 AMQP 的基本组件划分到一个虚拟的分组中，类似于网络中的 namespace 概念。当多个不同的用户使用同一个 RabbitMQ server 提供的服务时，可以划分出 多个 vhost，每个用户在自己的 vhost 创建 exchange／queue 等</p><p><strong><mark>Connection</mark></strong>：publisher／consumer 和 broker 之间的 TCP 连接</p><p><strong><mark>Channel</mark></strong>：如果每一次访问 RabbitMQ 都建立一个 Connection，在消息量大的时候建立 TCP Connection 的开销将是巨大的，效率也较低。Channel 是在 connection 内部建立的逻辑连接，如果应用程 序支持多线程，通常每个 thread 创建单独的 channel 进行通讯，AMQP method 包含了 channel id 帮助客 户端和 message broker 识别 channel，所以 channel 之间是完全隔离的。Channel 作为轻量级的 Connection 极大减少了操作系统建立 TCP connection 的开销</p><p><mark>Exchange</mark>：message 到达 broker 的第一站，根据分发规则，匹配查询表中的 routing key，分发 消息到 queue 中去。常用的类型有：direct (point-to-point), topic (publish-subscribe) and fanout (multicast)</p><p><mark>Queue</mark>：消息最终被送到这里等待 consumer 取走</p><p><mark>Binding</mark>：exchange 和 queue 之间的虚拟连接，binding 中可以包含 routing key，Binding 信息被保 存到 exchange 中的查询表中，用于 message 的分发依据</p><div class="tags"><a href="/tags/%E5%90%8E%E7%AB%AF/" rel="tag"><i class="ic i-tag"></i> 后端</a> <a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" rel="tag"><i class="ic i-tag"></i> 消息队列</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-06-27 17:38:31" itemprop="dateModified" datetime="2022-06-27T17:38:31+08:00">2022-06-27</time> </span><span id="2022/06/27/4318463f9256/" class="item leancloud_visitors" data-flag-title="RabbitMQ学习_01" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span> </span><span id="busuanzi_container_page_pv">本文阅读量:<span id="busuanzi_value_page_pv"></span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Windlinxy 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Windlinxy 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Windlinxy <i class="ic i-at"><em>@</em></i>沨临</li><li class="link"><strong>本文链接：</strong> <a href="https://windlinxy.top/2022/06/27/4318463f9256/" title="RabbitMQ学习_01">https://windlinxy.top/2022/06/27/4318463f9256/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2022/04/23/f0d92c452e76/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com&#x2F;img&#x2F;yst-blog-bg15.jpg" title="开启音乐创作之旅"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 杂谈</span><h3>开启音乐创作之旅</h3></a></div><div class="item right"><a href="/2022/06/30/712cede46373/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;virgil-civil-1311056353.cos.ap-shanghai.myqcloud.com&#x2F;img&#x2F;yst-blog-bg12.jpg" title="RabbitMQ学习_02"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 学习笔记</span><h3>RabbitMQ学习_02</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">相关概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFmq"><span class="toc-number">1.1.</span> <span class="toc-text">什么是 MQ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8mqmq%E4%B8%89%E5%A4%A7%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.</span> <span class="toc-text">为什么要用 MQ？MQ 三大特点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E9%87%8F%E6%B6%88%E5%B3%B0"><span class="toc-number">1.2.1.</span> <span class="toc-text">流量消峰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E8%A7%A3%E8%80%A6"><span class="toc-number">1.2.2.</span> <span class="toc-text">应用解耦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86"><span class="toc-number">1.2.3.</span> <span class="toc-text">异步处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mq%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.3.</span> <span class="toc-text">MQ 的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#activemq"><span class="toc-number">1.3.1.</span> <span class="toc-text">ActiveMQ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kafka"><span class="toc-number">1.3.2.</span> <span class="toc-text">Kafka</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rocketmq"><span class="toc-number">1.3.3.</span> <span class="toc-text">RocketMQ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rabbitmq"><span class="toc-number">1.3.4.</span> <span class="toc-text">RabbitMQ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mq%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">1.4.</span> <span class="toc-text">MQ 的选择</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#kafka-2"><span class="toc-number">1.4.1.</span> <span class="toc-text">Kafka</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rocketmq-2"><span class="toc-number">1.4.2.</span> <span class="toc-text">RocketMQ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rabbitmq-2"><span class="toc-number">1.4.3.</span> <span class="toc-text">RabbitMQ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#rabbitmq-3"><span class="toc-number">2.</span> <span class="toc-text">RabbitMQ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#rabbit%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.</span> <span class="toc-text">Rabbit 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rabbit%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">2.2.</span> <span class="toc-text">Rabbit 核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%94%9F%E4%BA%A7%E8%80%85"><span class="toc-number">2.2.1.</span> <span class="toc-text">1. 生产者</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">2.2.2.</span> <span class="toc-text">2. 交换机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%98%9F%E5%88%97"><span class="toc-number">2.2.3.</span> <span class="toc-text">3. 队列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%B6%88%E8%B4%B9%E8%80%85"><span class="toc-number">2.2.4.</span> <span class="toc-text">4. 消费者</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rabbit%E6%A0%B8%E5%BF%83%E9%83%A8%E5%88%86%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.3.</span> <span class="toc-text">Rabbit 核心部分（模式）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%84%E4%B8%AA%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="toc-number">2.4.</span> <span class="toc-text">各个名词解释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rabbit%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">2.4.1.</span> <span class="toc-text">Rabbit 工作原理</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/08/22/9fa2c19d8a5c/" rel="bookmark" title="Git学习">Git学习</a></li><li><a href="/2021/08/22/6cc698283cd3/" rel="bookmark" title="Redis学习与基本使用">Redis学习与基本使用</a></li><li><a href="/2022/02/16/3f45b94abd7d/" rel="bookmark" title="SpringBoot学习">SpringBoot学习</a></li><li><a href="/2022/03/22/b53d308f67cd/" rel="bookmark" title="Docker学习与实践">Docker学习与实践</a></li><li><a href="/2022/03/29/a3ce6e1055e0/" rel="bookmark" title="Hexo搭建博客回顾">Hexo搭建博客回顾</a></li><li><a href="/2022/04/03/efd1fe65915b/" rel="bookmark" title="Nginx学习">Nginx学习</a></li><li><a href="/2022/04/18/fa3fe09e66a1/" rel="bookmark" title="Lambda表达式学习">Lambda表达式学习</a></li><li><a href="/2022/04/19/b3855c64b8fb/" rel="bookmark" title="Optional使用">Optional使用</a></li><li><a href="/2022/04/20/be5fe109faf5/" rel="bookmark" title="函数式接口与方法引用">函数式接口与方法引用</a></li><li class="active"><a href="/2022/06/27/4318463f9256/" rel="bookmark" title="RabbitMQ学习_01">RabbitMQ学习_01</a></li><li><a href="/2022/06/30/712cede46373/" rel="bookmark" title="RabbitMQ学习_02">RabbitMQ学习_02</a></li><li><a href="/2022/10/04/8787e59dc4ea/" rel="bookmark" title="JUC:线程与进程">JUC:线程与进程</a></li><li><a href="/2022/11/16/32e7bb3553da/" rel="bookmark" title="IO模型">IO模型</a></li><li><a href="/2022/11/17/b73eedab4ef3/" rel="bookmark" title="NIO的一些问题">NIO的一些问题</a></li><li><a href="/2023/01/21/6c40bdfa1892/" rel="bookmark" title="java注解">java注解</a></li><li><a href="/2023/02/28/48a59f7d755c/" rel="bookmark" title="Springboot自动装配">Springboot自动装配</a></li><li><a href="/2023/03/01/fa472e2adb8b/" rel="bookmark" title="一些模板代码">一些模板代码</a></li><li><a href="/2023/08/17/625794741ec0/" rel="bookmark" title="Git常用">Git常用</a></li><li><a href="/2023/09/12/324da08a924e/" rel="bookmark" title="ADB总结">ADB总结</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Windlinxy" data-src="/images/windlinxy.jpg"><p class="name" itemprop="name">Windlinxy</p><div class="description" itemprop="description">后端 CS 技术博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">31</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">5</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">33</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3dpbmRsaW54eQ==" title="https:&#x2F;&#x2F;github.com&#x2F;windlinxy"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9mZW5nLWxpbi0yMy00NQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;feng-lin-23-45"><i class="ic i-zhihu"></i></span> <span class="exturl item email" data-url="bWFpbHRvOndpbmRsaW54eUAxNjMuY29t" title="mailto:windlinxy@163.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>网址</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2022/04/23/f0d92c452e76/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2022/06/30/712cede46373/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2023/02/28/48a59f7d755c/" title="Springboot自动装配">Springboot自动装配</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2021/08/22/6cc698283cd3/" title="Redis学习与基本使用">Redis学习与基本使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2023/03/01/fa472e2adb8b/" title="一些模板代码">一些模板代码</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/03/22/b53d308f67cd/" title="Docker学习与实践">Docker学习与实践</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/LeetCode%E5%88%B7%E9%A2%98/" title="分类于 LeetCode刷题">LeetCode刷题</a></div><span><a href="/2023/03/03/d91775c4b914/" title="3月2日LeetCode刷题">3月2日LeetCode刷题</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/04/20/be5fe109faf5/" title="函数式接口与方法引用">函数式接口与方法引用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/06/27/4318463f9256/" title="RabbitMQ学习_01">RabbitMQ学习_01</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/03/29/a3ce6e1055e0/" title="Hexo搭建博客回顾">Hexo搭建博客回顾</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/11/17/b73eedab4ef3/" title="NIO的一些问题">NIO的一些问题</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a></div><span><a href="/2022/06/30/712cede46373/" title="RabbitMQ学习_02">RabbitMQ学习_02</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Windlinxy @ Windlinxy's Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">162k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:27</span><br><i class="ic i-clock" aria-hidden="true"></i> <span id="time"></span><script>function createtime(){var n=new Date("2022-3-27 14:30:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("time").innerHTML="存活时间:"+dnum+" 天 "+hnum+" 小时 "+mnum+" 分 "+snum+" 秒 |"}var now=new Date;setInterval("createtime()",250)</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span style="padding-left:10px"><i class="ic i-eye" aria-hidden="true"></i><span id="busuanzi_value_site_pv"></span>(<span id="busuanzi_value_site_uv"></span>) 次 |</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2022/06/27/4318463f9256/",favicon:{show:"（●´3｀●）最喜欢你了",hide:"(´Д｀)你要去哪！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdnjs.cloudflare.com/polyfill/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->